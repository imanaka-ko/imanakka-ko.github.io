<!doctype html>
<html lang="ja">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NFD53MZ9');</script>
    <!-- End Google Tag Manager -->

  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;800&display=swap" rel="stylesheet">
  <title>会員登録（確認） | さっくとSPI</title>
  <link rel="stylesheet" href="css/registration.css">
  <link rel="stylesheet" href="css/header.css">
</head>
<body class="registration-page">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NFD53MZ9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

  <header class="site-header">
    <a class="registration-logo" href="index.html" aria-label="トップページへ">
      <img class="registration-logo-image" src="images/header_logo.png" alt="さくっとSPI">
    </a>
    <nav class="registration-nav" aria-label="グローバルナビゲーション">
      <a class="pill-button pill-button--pink" href="auth/signin.html">ログイン</a>
      <a class="pill-button pill-button--blue" href="exam/select-mode.html">受験する</a>
    </nav>
  </header>

  <main class="registration-main">
    <section class="registration-hero">
      <p class="registration-hero-en">REGISTRATION</p>
      <h1 class="registration-hero-title">会員登録（確認）</h1>
    </section>

    <section class="registration-section">
      <h2 class="registration-section-title"><span class="section-dot"></span>登録情報の確認</h2>
      <div class="section-card">
        <div class="form-card">
          <div class="confirmation-list">
            <div class="confirmation-row">
              <div class="confirmation-label">お名前<span>※</span></div>
              <div class="confirmation-value" data-field="name">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">フリガナ<span>※</span></div>
              <div class="confirmation-value" data-field="kana">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">お住まいの地域<span>※</span></div>
              <div class="confirmation-value" data-field="region">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">性別<span>※</span></div>
              <div class="confirmation-value" data-field="gender">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">メールアドレス<span>※</span></div>
              <div class="confirmation-value" data-field="email">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">電話番号<span>※</span></div>
              <div class="confirmation-value" data-field="phone">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">学歴<span>※</span></div>
              <div class="confirmation-value" data-field="school">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">学校名<span>※</span></div>
              <div class="confirmation-value" data-field="schoolName">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">学部</div>
              <div class="confirmation-value" data-field="faculty">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">学科</div>
              <div class="confirmation-value" data-field="department">未入力</div>
            </div>
            <div class="confirmation-row">
              <div class="confirmation-label">卒業予定年<span>※</span></div>
              <div class="confirmation-value" data-field="gradYear">未入力</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="action-row">
      <a class="secondary-outline-button" href="submission_form.html">戻る</a>
      <form action="auth/signup.html" method="get" data-recipient="" class="register-form">
        <button type="submit" class="primary-outline-button register-btn">無料登録する</button>
      </form>
    </div>

    <section class="registration-section">
      <h2 class="registration-section-title"><span class="section-dot"></span>就活に必要なサービスをまとめて登録しよう！</h2>
      <div class="section-card">
        <div class="services-grid">
          <div class="service-card" data-service="irodas">
            <img src="images/irodas_logo.jpeg" alt="irodasSALON">
            <div>
              <h3>irodasSALON（イロダスサロン）</h3>
              <p>【満足度95％】「irodasSALON」は、就活講座・教材・面談で理想のキャリアを描く日本最大級の就活コミュニティ。</p>
              <label class="terms"><input type="checkbox" data-recipient-email="irodassalon.support@irodas.com" checked> <a href="https://irodas.com/privacyHQ/">利用規約</a>に同意の上、登録する。</label>
            </div>
          </div>

          <div class="service-card">
            <img src="images/kokoshiro_intern_logo.jpg" alt="ココシロインターン">
            <div>
              <h3>ココシロインターン</h3>
              <p>長期インターンに特化したインターン求人メディアになります。一人ひとりと面談を行い、それぞれに適したインターンをご紹介いたします。</p>
              <label class="terms"><input type="checkbox" data-recipient-email="kr.matsui@kokoshiro.co.jp" checked data-kokoshiro> <a href="https://kokoshiro.jp/membership/">利用規約</a>、<a href="https://kokoshiro.jp/privacy-policy.php">プライバシーポリシー</a>に同意の上、登録する。</label>
            </div>
          </div>

          <div class="service-card service--collapsible" data-service="job-commit">
            <img src="images/job_commit_logo.jpg" alt="ジョブコミット">
            <div>
              <h3>ジョブコミット</h3>
              <p class="service__description">
                <span class="service__description-text">①業界別の企業紹介<br>
※大手・中小・ベンチャー幅広くご紹介可能です。<br>
今の時期ですと、ナビサイトに掲載していない非公開求人も紹介可能です。<br>
②面接対策<br>
『面接』はただ質問しているだけではありません。人事の意図があっての質問です！<br>
人事の心に刺さる受け答えを特別にお教え致します！<br>
③履歴書・ES等の添削<br>
短い文章でいかに自分のことをアピールすればいいのか<br>
まとめ方のコツ、人事の目にとまりやすいポイントをお伝えします。</span>
                <button type="button" class="toggle-description" data-target="job-commit">もっと見る</button>
              </p>
              <label class="terms"><input type="checkbox" data-recipient-email="m.takahashi@hr-team.co.jp, y.hataya@hr-team.co.jp, t.okamoto@hr-team.co.jp, h.komiya@hr-team.co.jp, r.hirano@hr-team.co.jp, c.hirose@hr-team.co.jp" checked> <a href="https://hr-team.co.jp/commit-terms/">利用規約</a>、<a href="https://hr-team.co.jp/privacy/">プライバシーポリシー</a>に同意の上、登録する。</label>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer class="registration-footer">
    <span>© Sakutto-SPI. All Rights Reserved</span>
    <div>
      <a href="terms.html">利用規約</a>
      <a href="privacy.html">個人情報保護方針</a>
    </div>
  </footer>

  <script src="js/register-submit.js"></script>
  <script>
    (function () {
      const TARGET_GRAD_YEAR = "2027";
      const irodasSection = document.querySelector('[data-service="irodas"]');
      const irodasCheckbox = irodasSection
        ? irodasSection.querySelector('input[type="checkbox"]')
        : null;
      const jobCommitSection = document.querySelector(
        '[data-service="job-commit"]'
      );
      const jobCommitCheckbox = jobCommitSection
        ? jobCommitSection.querySelector('input[type="checkbox"]')
        : null;

      function updateServiceVisibility(section, checkbox, submissionData) {
        if (!section) {
          return;
        }

        const shouldShow =
          submissionData && submissionData.gradYear === TARGET_GRAD_YEAR;

        if (shouldShow) {
          section.style.display = "";
          return;
        }

        section.style.display = "none";
        if (checkbox) {
          checkbox.checked = false;
        }
      }

      updateServiceVisibility(irodasSection, irodasCheckbox, window.registerSubmissionData);
      updateServiceVisibility(
        jobCommitSection,
        jobCommitCheckbox,
        window.registerSubmissionData
      );

      document.addEventListener("register:submission-data", (event) => {
        updateServiceVisibility(irodasSection, irodasCheckbox, event.detail);
        updateServiceVisibility(jobCommitSection, jobCommitCheckbox, event.detail);
      });

      function setupCollapsibleDescription(section) {
        if (!section) {
          return;
        }

        const description = section.querySelector(".service__description");
        const toggleButton = section.querySelector(".toggle-description");

        if (!description || !toggleButton) {
          return;
        }

        toggleButton.addEventListener("click", () => {
          section.classList.add("is-expanded");
          toggleButton.remove();
        });
      }

      setupCollapsibleDescription(jobCommitSection);

      const fieldFormatters = {
        name: (data) => [data.lastName, data.firstName].filter(Boolean).join(" "),
        kana: (data) => [data.lastKana, data.firstKana].filter(Boolean).join(" "),
        gradYear: (data) => {
          if (!data.gradYear) {
            return "";
          }
          if (data.gradYear === "other") {
            return "その他";
          }
          return data.gradYear.includes("年") ? data.gradYear : `${data.gradYear}年`;
        },
      };

      function formatValue(value) {
        if (value === null || value === undefined || value === "") {
          return "未入力";
        }
        return value;
      }

      function updateConfirmation(data) {
        if (!data) {
          return;
        }
        document.querySelectorAll("[data-field]").forEach((element) => {
          const key = element.dataset.field;
          const formatter = fieldFormatters[key];
          const value = formatter ? formatter(data) : data[key];
          element.textContent = formatValue(value);
        });
      }

      updateConfirmation(window.registerSubmissionData);
      document.addEventListener("register:submission-data", (event) => {
        updateConfirmation(event.detail);
      });
    })();
  </script>
</body>
</html>
